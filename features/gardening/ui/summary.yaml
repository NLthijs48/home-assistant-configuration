type: horizontal-stack
cards:
  # 🍌Banana plant
  - type: vertical-stack
    cards:
      - type: custom:button-card
        entity: plant.1
        template: header
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🍌Banana
              content:
                type: vertical-stack
                cards:
                  - type: custom:stack-in-card
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: entity
                            entity: plant.1
                            name: State
                          - type: entity
                            entity: sensor.plant_1_battery
                            name: Battery
                      - type: conditional
                        conditions:
                          - entity: plant.1
                            state: 'problem'
                        card:
                          type: markdown
                          content: >-
                            <ha-alert alert-type="error">{{ state_attr('plant.1', 'problem') }}</ha-alert>
                  - !include plant_1/moisture.yaml
                  - !include plant_1/conductivity.yaml
      - type: custom:button-card
        entity: plant.1
        name: State
        template: statistic_button_plant
      - type: custom:button-card
        entity: sensor.plant_1_moisture
        name: Moisture
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🍌Banana
              content: !include plant_1/moisture.yaml
      - type: custom:button-card
        entity: sensor.plant_1_conductivity
        name: Conductivity
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🍌Banana
              content: !include plant_1/conductivity.yaml
      #- type: custom:button-card
      #  entity: sensor.plant_1_illuminance
      #  name: Illuminance
      #  template: statistic_button

  # Bonsai
  - type: vertical-stack
    cards:
      - type: custom:button-card
        entity: plant.3
        template: header
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🌳 Bonsai
              content:
                type: vertical-stack
                cards:
                  - type: custom:stack-in-card
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: entity
                            entity: plant.3
                            name: State
                          - type: entity
                            entity: sensor.plant_3_battery
                            name: Battery
                      - type: conditional
                        conditions:
                          - entity: plant.3
                            state: 'problem'
                        card:
                          type: markdown
                          content: >-
                            <ha-alert alert-type="error">{{ state_attr('plant.3', 'problem') }}</ha-alert>
                  - !include plant_3/moisture.yaml
      - type: custom:button-card
        entity: plant.3
        template: statistic_button_plant
        name: State
      - type: custom:button-card
        name: Moisture
        entity: sensor.plant_3_moisture
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🌳 Bonsai
              content: !include plant_3/moisture.yaml
      #- type: custom:button-card
      #  entity: sensor.living_room_motion_sensor_illuminance
      #  name: Illuminance
      #  template: statistic_button

  # Palm
  - type: vertical-stack
    cards:
      - type: custom:button-card
        entity: plant.2
        template: header
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🌴 Palm
              content:
                type: vertical-stack
                cards:
                  - type: custom:stack-in-card
                    cards:
                      - type: entity
                        entity: plant.2
                        name: State
                      - type: conditional
                        conditions:
                          - entity: plant.2
                            state: 'problem'
                        card:
                          type: markdown
                          content: >-
                            <ha-alert alert-type="error">{{ state_attr('plant.2', 'problem') }}</ha-alert>
                  - !include plant_2/moisture.yaml
      - type: custom:button-card
        entity: plant.2
        name: State
        icon: mdi:palm-tree
        template: statistic_button_plant
      - type: custom:button-card
        name: Moisture
        entity: sensor.plant_2_moisture
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: 🌴 Palm
              content: !include plant_2/moisture.yaml
