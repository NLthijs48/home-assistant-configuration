type: horizontal-stack
cards:
  # Flower bulbs
  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: ðŸŒ·Bulbs
        template: header
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            title: ðŸŒ· Bulbs
            card:
              type: vertical-stack
              cards:
                - type: custom:stack-in-card
                  cards:
                    - type: entity
                      entity: plant.amaryllis
                      name: State
                    - type: conditional
                      conditions:
                        - entity: plant.amaryllis
                          state: 'problem'
                      card:
                        type: markdown
                        content: >-
                          <ha-alert alert-type="error">{{ state_attr('plant.amaryllis', 'problem') }}</ha-alert>
                - !include amaryllis_moisture.yaml
      - type: custom:button-card
        entity: plant.amaryllis
        name: State
        template: statistic_button_plant
      - type: custom:button-card
        entity: sensor.amaryllis_moisture
        name: Moisture
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            title: ðŸŒ· Bulbs
            card: !include amaryllis_moisture.yaml
      - type: custom:button-card
        entity: sensor.amaryllis_conductivity
        name: Conductivity
        template: statistic_button
      #- type: custom:button-card
      #  entity: sensor.amaryllis_illuminance
      #  name: Illuminance
      #  template: statistic_button

  # Bonsai
  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: ðŸŒ³Bonsai
        template: header
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            title: ðŸŒ³ Bonsai
            card:
              type: vertical-stack
              cards:
                - type: custom:stack-in-card
                  cards:
                    - type: entity
                      entity: plant.bonsai
                      name: State
                    - type: conditional
                      conditions:
                        - entity: plant.bonsai
                          state: 'problem'
                      card:
                        type: markdown
                        content: >-
                          <ha-alert alert-type="error">{{ state_attr('plant.bonsai', 'problem') }}</ha-alert>
                - !include bonsai_moisture.yaml
                # TODO: the rest, and graphs
      - type: custom:button-card
        entity: plant.bonsai
        template: statistic_button_plant
        name: State
      - type: custom:button-card
        name: Moisture
        entity: sensor.ecowitt_soil_bonsai_moisture
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            title: ðŸŒ³ Bonsai
            card: !include bonsai_moisture.yaml
      #- type: custom:button-card
      #  entity: sensor.living_room_motion_sensor_illuminance
      #  name: Illuminance
      #  template: statistic_button

  # Palm
  - type: vertical-stack
    cards:
      - type: custom:button-card
        name: ðŸŒ´Palm
        template: header
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            title: ðŸŒ´ Palm
            card:
              type: vertical-stack
              cards:
                - type: custom:stack-in-card
                  cards:
                    - type: entity
                      entity: plant.palm_big
                      name: State
                    - type: conditional
                      conditions:
                        - entity: plant.palm_big
                          state: 'problem'
                      card:
                        type: markdown
                        content: >-
                          <ha-alert alert-type="error">{{ state_attr('plant.palm_big', 'problem') }}</ha-alert>
                - !include palm_big_moisture.yaml
      - type: custom:button-card
        entity: plant.palm_big
        name: State
        icon: mdi:palm-tree
        template: statistic_button_plant
      - type: custom:button-card
        name: Moisture
        entity: sensor.palm_big_moisture
        template: statistic_button
        tap_action:
          action: fire-dom-event
          browser_mod:
            command: popup
            title: ðŸŒ´ Palm
            card: !include palm_big_moisture.yaml
